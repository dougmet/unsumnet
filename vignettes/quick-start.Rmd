---
title: "Quick Start"
author: "Douglas Ashton"
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette:
    fig_caption: yes
vignette: >
  %\VignetteIndexEntry{Quick Start}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

Intro paragraph

## Aggregated Data

Data comes in in a summed up way. Either load an example data set or make a matrix and sum it.
```{r}
library(banknet)

set.seed(33)
nodeNames <- LETTERS[1:6]
a <- matrix(sample(0:1, 36, prob = c(0.85,0.15), replace=TRUE), ncol=6)
diag(a) <- 0
awTrue <- a * abs(rnorm(36, 40, 15))

dimnames(awTrue) <- list(nodeNames, nodeNames)
awTrue


```

Start with a 

```{r}
constraints <- data.frame(nodeNames=nodeNames, totalOut=rowSums(awTrue), totalIn=colSums(awTrue))
constraints
```

## Creating a network

```{r}
set.seed(11)
fit <- unsum(constraints, 12)
fit$AW
```

Run through unsum and a few easy options. One with all the defaults, one with a few more options set.

## Maximum Entropy Solution

The figure sizes have been customised so that you can easily put two images side-by-side. 

```{r, fig.show='hold', fig.cap="hello"}
library(igraph)
gTrue <- graph.adjacency(awTrue, weighted = TRUE)
lo <- layout.circle(gTrue)
sw <- max(awTrue)/10
plot(gTrue, edge.width=E(gTrue)$weight/sw, edge.curved=is.mutual(gTrue), layout=lo)

awME <- maxEntropy(constraints$totalOut,constraints$totalIn)
gME <- graph.adjacency(awME, weighted = TRUE)
sw <- max(awTrue)/10
plot(gME, edge.width=E(gME)$weight/sw, edge.curved=is.mutual(gME), layout=lo)
```



You can enable figure captions by `fig_caption: yes` in YAML:

    output:
      rmarkdown::html_vignette:
        fig_caption: yes

Then you can use the chunk option `fig.cap = "Your figure caption."` in **knitr**.

## Doug Remove

You can write math expressions, e.g. $Y = X\beta + \epsilon$, footnotes^[A footnote here.], and tables, e.g. using `knitr::kable()`.

